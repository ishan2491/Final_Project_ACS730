{"filter":false,"title":"terraform.yml","tooltip":"/.github/workflows/terraform.yml","undoManager":{"mark":17,"position":17,"stack":[[{"start":{"row":0,"column":0},"end":{"row":47,"column":0},"action":"insert","lines":["name: Terraform CI/CD","","on:","  push:","    branches:","      - staging","  pull_request:","    branches:","      - prod","","jobs:","  terraform:","    name: \"Terraform Plan and Security Scan\"","    runs-on: ubuntu-latest","","    steps:","      - name: Checkout Code","        uses: actions/checkout@v2","","      - name: Set up Terraform","        uses: hashicorp/setup-terraform@v1","        with:","          terraform_version: 1.3.0  # adjust if needed","","      - name: Terraform Format Check","        run: terraform fmt -check","","      - name: Terraform Init","        run: terraform init","","      - name: Terraform Validate","        run: terraform validate","","      - name: Terraform Plan","        run: terraform plan","","      - name: Install TFLint","        run: |","          curl -s https://raw.githubusercontent.com/terraform-linters/tflint/master/install_linux.sh | bash","      - name: Run TFLint","        run: tflint","","      - name: Run Trivy Security Scan on Terraform Directory","        run: |","          wget https://github.com/aquasecurity/trivy/releases/download/v0.35.0/trivy_0.35.0_Linux-64bit.deb","          sudo dpkg -i trivy_0.35.0_Linux-64bit.deb","          trivy fs .",""],"id":1}],[{"start":{"row":22,"column":30},"end":{"row":22,"column":54},"action":"remove","lines":[".3.0  # adjust if needed"],"id":2},{"start":{"row":22,"column":29},"end":{"row":22,"column":30},"action":"remove","lines":["1"]}],[{"start":{"row":22,"column":29},"end":{"row":22,"column":35},"action":"insert","lines":["1.11.3"],"id":3}],[{"start":{"row":2,"column":1},"end":{"row":8,"column":12},"action":"remove","lines":["n:","  push:","    branches:","      - staging","  pull_request:","    branches:","      - prod"],"id":4},{"start":{"row":2,"column":0},"end":{"row":2,"column":1},"action":"remove","lines":["o"]}],[{"start":{"row":2,"column":0},"end":{"row":9,"column":0},"action":"insert","lines":["on:","  push:","    branches:","      - main","  pull_request:","    branches:","      - main",""],"id":5}],[{"start":{"row":8,"column":12},"end":{"row":9,"column":0},"action":"remove","lines":["",""],"id":6}],[{"start":{"row":8,"column":12},"end":{"row":9,"column":0},"action":"insert","lines":["",""],"id":7},{"start":{"row":9,"column":0},"end":{"row":9,"column":6},"action":"insert","lines":["      "]}],[{"start":{"row":9,"column":5},"end":{"row":9,"column":6},"action":"remove","lines":[" "],"id":8},{"start":{"row":9,"column":4},"end":{"row":9,"column":5},"action":"remove","lines":[" "]},{"start":{"row":9,"column":0},"end":{"row":9,"column":4},"action":"remove","lines":["    "]}],[{"start":{"row":9,"column":0},"end":{"row":15,"column":0},"action":"insert","lines":["- name: Configure AWS credentials using OIDC or static secrets","  uses: aws-actions/configure-aws-credentials@v2","  with:","    aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}","    aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}","    aws-region: us-east-1",""],"id":9}],[{"start":{"row":14,"column":25},"end":{"row":15,"column":0},"action":"remove","lines":["",""],"id":10}],[{"start":{"row":9,"column":2},"end":{"row":14,"column":25},"action":"remove","lines":["name: Configure AWS credentials using OIDC or static secrets","  uses: aws-actions/configure-aws-credentials@v2","  with:","    aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}","    aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}","    aws-region: us-east-1"],"id":13}],[{"start":{"row":0,"column":0},"end":{"row":48,"column":0},"action":"remove","lines":["name: Terraform CI/CD","","on:","  push:","    branches:","      - main","  pull_request:","    branches:","      - main","- ","","jobs:","  terraform:","    name: \"Terraform Plan and Security Scan\"","    runs-on: ubuntu-latest","","    steps:","      - name: Checkout Code","        uses: actions/checkout@v2","","      - name: Set up Terraform","        uses: hashicorp/setup-terraform@v1","        with:","          terraform_version: 1.11.3","","      - name: Terraform Format Check","        run: terraform fmt -check","","      - name: Terraform Init","        run: terraform init","","      - name: Terraform Validate","        run: terraform validate","","      - name: Terraform Plan","        run: terraform plan","","      - name: Install TFLint","        run: |","          curl -s https://raw.githubusercontent.com/terraform-linters/tflint/master/install_linux.sh | bash","      - name: Run TFLint","        run: tflint","","      - name: Run Trivy Security Scan on Terraform Directory","        run: |","          wget https://github.com/aquasecurity/trivy/releases/download/v0.35.0/trivy_0.35.0_Linux-64bit.deb","          sudo dpkg -i trivy_0.35.0_Linux-64bit.deb","          trivy fs .",""],"id":14}],[{"start":{"row":0,"column":0},"end":{"row":56,"column":0},"action":"insert","lines":["name: Terraform CI/CD","","on:","  push:","    branches:","      - main","  pull_request:","    branches:","      - main","","jobs:","  terraform:","    runs-on: ubuntu-latest","    name: \"Terraform Plan and Security Scan\"","    steps:","      - name: Checkout Code","        uses: actions/checkout@v2","","      - name: Configure AWS credentials using static secrets","        uses: aws-actions/configure-aws-credentials@v2","        with:","          aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}","          aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}","          aws-region: us-east-1","","      - name: Set up Terraform","        uses: hashicorp/setup-terraform@v1","        with:","          terraform_version: 1.11.3","","      - name: Terraform Format Check","        run: terraform fmt -check","","      - name: Terraform Init","        run: terraform init","","      - name: Terraform Validate","        run: terraform validate","","      - name: Terraform Plan","        run: terraform plan","","      - name: Install TFLint","        run: |","          curl -s https://raw.githubusercontent.com/terraform-linters/tflint/master/install_linux.sh | bash","","      - name: Run TFLint","        run: tflint","","      - name: Install Trivy","        run: |","          wget https://github.com/aquasecurity/trivy/releases/download/v0.35.0/trivy_0.35.0_Linux-64bit.deb","          sudo dpkg -i trivy_0.35.0_Linux-64bit.deb","","      - name: Run Trivy Security Scan on Terraform Directory","        run: trivy fs .",""],"id":15}],[{"start":{"row":22,"column":69},"end":{"row":23,"column":0},"action":"insert","lines":["",""],"id":17},{"start":{"row":23,"column":0},"end":{"row":23,"column":10},"action":"insert","lines":["          "]}],[{"start":{"row":23,"column":10},"end":{"row":23,"column":61},"action":"insert","lines":["aws-session-token: ${{ secrets.AWS_SESSION_TOKEN }}"],"id":18}],[{"start":{"row":24,"column":27},"end":{"row":24,"column":31},"action":"remove","lines":["st-1"],"id":19},{"start":{"row":24,"column":12},"end":{"row":24,"column":16},"action":"insert","lines":["st-1"]}],[{"start":{"row":24,"column":12},"end":{"row":24,"column":16},"action":"remove","lines":["st-1"],"id":20},{"start":{"row":24,"column":11},"end":{"row":24,"column":12},"action":"remove","lines":["w"]},{"start":{"row":24,"column":10},"end":{"row":24,"column":11},"action":"remove","lines":["a"]},{"start":{"row":24,"column":9},"end":{"row":24,"column":10},"action":"remove","lines":[" "]}],[{"start":{"row":24,"column":12},"end":{"row":24,"column":24},"action":"remove","lines":["egion: us-ea"],"id":21},{"start":{"row":24,"column":11},"end":{"row":24,"column":12},"action":"remove","lines":["r"]},{"start":{"row":24,"column":10},"end":{"row":24,"column":11},"action":"remove","lines":["-"]},{"start":{"row":24,"column":9},"end":{"row":24,"column":10},"action":"remove","lines":["s"]},{"start":{"row":24,"column":8},"end":{"row":24,"column":9},"action":"remove","lines":[" "]},{"start":{"row":24,"column":4},"end":{"row":24,"column":8},"action":"remove","lines":["    "]},{"start":{"row":24,"column":0},"end":{"row":24,"column":4},"action":"remove","lines":["    "]},{"start":{"row":23,"column":61},"end":{"row":24,"column":0},"action":"remove","lines":["",""]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":23,"column":61},"end":{"row":23,"column":61},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1744263425105,"hash":"f0f33cb8778793cb427507720eb8250be0d852df"}